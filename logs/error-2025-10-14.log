{"context":"CitasService","level":"error","message":"❌ Error al crear cita: ER_NO_DEFAULT_FOR_FIELD: Field 'reason' doesn't have a default value","timestamp":"2025-10-14T16:12:03.822Z"}
{"context":"HTTP","level":"error","message":"POST /v1/api/citas 500 33bytes - 56ms","timestamp":"2025-10-14T16:12:03.828Z"}
{"context":"CitasService","level":"error","message":"❌ Error al crear cita: ER_NO_DEFAULT_FOR_FIELD: Field 'reason' doesn't have a default value","timestamp":"2025-10-14T16:12:10.155Z"}
{"context":"HTTP","level":"error","message":"POST /v1/api/citas 500 33bytes - 14ms","timestamp":"2025-10-14T16:12:10.157Z"}
{"context":"HTTP","level":"error","message":"POST /v1/api/cirujias 500 38bytes - 2ms","timestamp":"2025-10-14T16:15:28.492Z"}
{"context":"HTTP","level":"error","message":"POST /v1/api/cirujias 500 38bytes - 2ms","timestamp":"2025-10-14T16:16:19.047Z"}
{"context":"HTTP","level":"error","message":"POST /v1/api/cirujias 500 38bytes - 16ms","timestamp":"2025-10-14T16:17:13.980Z"}
{"context":"HTTP","level":"error","message":"POST /v1/api/cirujias 500 38bytes - 3ms","timestamp":"2025-10-14T16:17:16.217Z"}
{"context":"SurgicalService","level":"error","message":"❌ Error al crear cita: ER_NO_REFERENCED_ROW_2: Cannot add or update a child row: a foreign key constraint fails (`node_veterinaria`.`medical_record`, CONSTRAINT `FK_ccb96f635a6644f79d07b2d8b2e` FOREIGN KEY (`appointment_id`) REFERENCES `citas` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION)","timestamp":"2025-10-14T16:23:10.160Z"}
{"context":"HTTP","level":"error","message":"POST /v1/api/cirujias 500 33bytes - 121ms","timestamp":"2025-10-14T16:23:10.164Z"}
{"context":"SurgicalService","level":"error","message":"❌ Error al crear cita: ER_NO_DEFAULT_FOR_FIELD: Field 'surgiere_id' doesn't have a default value","timestamp":"2025-10-14T16:23:16.186Z"}
{"context":"HTTP","level":"error","message":"POST /v1/api/cirujias 500 33bytes - 579ms","timestamp":"2025-10-14T16:23:16.187Z"}
{"context":"SERVER","level":"error","message":"Database connection failed","stack":"ReferenceError: PetEntity is not defined\n    at Object.type (/home/espadarota/ti/nodets-course/node-veterinaria/src/modules/citas/entities/medical_record.entity.ts:18:18)\n    at new RelationMetadata (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata/src/metadata/RelationMetadata.ts:343:29)\n    at <anonymous> (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:729:24)\n    at Array.map (<anonymous>)\n    at EntityMetadataBuilder.computeEntityMetadataStep1 (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:708:14)\n    at <anonymous> (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:133:22)\n    at Array.forEach (<anonymous>)\n    at EntityMetadataBuilder.build (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:132:14)\n    at ConnectionMetadataBuilder.buildEntityMetadatas (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/connection/src/connection/ConnectionMetadataBuilder.ts:106:11)\n    at async DataSource.buildMetadatas (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/data-source/src/data-source/DataSource.ts:712:13)","timestamp":"2025-10-15T00:50:15.170Z"}
{"context":"SERVER","level":"error","message":"Database connection failed","stack":"ReferenceError: PetEntity is not defined\n    at Object.type (/home/espadarota/ti/nodets-course/node-veterinaria/src/modules/citas/entities/medical_record.entity.ts:19:18)\n    at new RelationMetadata (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata/src/metadata/RelationMetadata.ts:343:29)\n    at <anonymous> (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:729:24)\n    at Array.map (<anonymous>)\n    at EntityMetadataBuilder.computeEntityMetadataStep1 (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:708:14)\n    at <anonymous> (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:133:22)\n    at Array.forEach (<anonymous>)\n    at EntityMetadataBuilder.build (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:132:14)\n    at ConnectionMetadataBuilder.buildEntityMetadatas (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/connection/src/connection/ConnectionMetadataBuilder.ts:106:11)\n    at async DataSource.buildMetadatas (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/data-source/src/data-source/DataSource.ts:712:13)","timestamp":"2025-10-15T00:50:24.262Z"}
{"context":"SERVER","level":"error","message":"Database connection failed","stack":"ReferenceError: UserEntity is not defined\n    at Object.type (/home/espadarota/ti/nodets-course/node-veterinaria/src/modules/citas/entities/medical_record.entity.ts:23:20)\n    at new RelationMetadata (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata/src/metadata/RelationMetadata.ts:343:29)\n    at <anonymous> (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:729:24)\n    at Array.map (<anonymous>)\n    at EntityMetadataBuilder.computeEntityMetadataStep1 (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:708:14)\n    at <anonymous> (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:133:22)\n    at Array.forEach (<anonymous>)\n    at EntityMetadataBuilder.build (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:132:14)\n    at ConnectionMetadataBuilder.buildEntityMetadatas (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/connection/src/connection/ConnectionMetadataBuilder.ts:106:11)\n    at async DataSource.buildMetadatas (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/data-source/src/data-source/DataSource.ts:712:13)","timestamp":"2025-10-15T00:50:26.674Z"}
{"context":"SERVER","level":"error","message":"Database connection failed","stack":"ReferenceError: UserEntity is not defined\n    at Object.type (/home/espadarota/ti/nodets-course/node-veterinaria/src/modules/citas/entities/medical_record.entity.ts:26:20)\n    at new RelationMetadata (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata/src/metadata/RelationMetadata.ts:343:29)\n    at <anonymous> (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:729:24)\n    at Array.map (<anonymous>)\n    at EntityMetadataBuilder.computeEntityMetadataStep1 (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:708:14)\n    at <anonymous> (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:133:22)\n    at Array.forEach (<anonymous>)\n    at EntityMetadataBuilder.build (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/metadata-builder/src/metadata-builder/EntityMetadataBuilder.ts:132:14)\n    at ConnectionMetadataBuilder.buildEntityMetadatas (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/connection/src/connection/ConnectionMetadataBuilder.ts:106:11)\n    at async DataSource.buildMetadatas (/home/espadarota/ti/nodets-course/node-veterinaria/node_modules/.pnpm/typeorm@0.3.21_reflect-metadata@0.2.2_ts-node@10.9.2_@types+node@22.13.9_typescript@5.8.2_/node_modules/typeorm/data-source/src/data-source/DataSource.ts:712:13)","timestamp":"2025-10-15T00:50:32.205Z"}
{"context":"HTTP","level":"error","message":"GET /v1/api/medical-history?pet_name=chente&service_type=CITA 500 33bytes - 35ms","timestamp":"2025-10-15T03:11:46.367Z"}
{"context":"HTTP","level":"error","message":"GET /v1/api/medical-history?pet_name=chente&service_type=CITA 500 33bytes - 8ms","timestamp":"2025-10-15T03:12:12.949Z"}
{"context":"HTTP","level":"error","message":"GET /v1/api/medical-history?pet_name=chente&service_type=VACUNA 500 33bytes - 5ms","timestamp":"2025-10-15T03:12:18.215Z"}
{"context":"HTTP","level":"error","message":"GET /v1/api/medical-history?pet_name=chente&service_type=CIRUG%C3%8DA 500 33bytes - 5ms","timestamp":"2025-10-15T03:12:27.880Z"}
{"context":"HTTP","level":"error","message":"GET /v1/api/medical-history?pet_name=BOBY&service_type=VACUNA 500 33bytes - 4ms","timestamp":"2025-10-15T03:12:58.538Z"}
{"context":"HTTP","level":"error","message":"GET /v1/api/medical-history?pet_name=BOBYY&service_type=VACUNA 500 33bytes - 21ms","timestamp":"2025-10-15T03:20:16.543Z"}
